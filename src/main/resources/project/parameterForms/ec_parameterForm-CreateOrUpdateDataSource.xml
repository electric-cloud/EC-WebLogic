<!--

Copyright 2015 CloudBees, Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->
<editor>
    <help>https://docs.cloudbees.com/docs/cloudbees-cd/latest/plugins/ec-weblogic#CreateOrUpdateDatasource</help>
<formElement>
    <type>entry</type>
    <label>Configuration</label>
    <!-- Improvements for CEV-18687 -->
    <configuration>1</configuration>
    <!-- End of improvements for CEV-18687 -->
    <property>configname</property>
    <htmlDocumentation>Name of the configuration to be used. URL, port, and credentials are retrieved from the specified plugin configuration.</htmlDocumentation>
    <required>1</required>
    <propertyReference>/plugins/@PLUGIN_NAME@/project/weblogic_cfgs</propertyReference>
</formElement>
<formElement>
    <type>entry</type>
    <label>Datasource name</label>
    <property>ecp_weblogic_dataSourceName</property>
    <documentation>Unique name of the JDBC generic data source to be created.</documentation>
    <required>1</required>
</formElement>
<formElement>
    <type>entry</type>
    <label>DataSource driver class</label>
    <property>ecp_weblogic_dataSourceDriverClass</property>
    <documentation>The full package name of the JDBC driver class used to create the physical database connections in the connection pool. Note that this driver class must be in the classpath of every server to which it is targeted/deployed.</documentation>
    <required>1</required>
</formElement>
<formElement>
    <type>entry</type>
    <label>Database URL</label>
    <property>ecp_weblogic_databaseUrl</property>
    <htmlDocumentation>JDBC URL of the database to connect to. The format of the URL varies by JDBC driver. The URL is passed to the JDBC driver to create the physical database connections. Examples:
        <br/>
        <ul>
        <li>jdbc:spssoem:mysql://&lt;host&gt;:&lt;port&gt;;DatabaseName=&lt;database&gt;</li>
        <li>jdbc:spssoem:oracle://&lt;host&gt;:&lt;port&gt;;SID=&lt;database&gt;[;AuthenticationMethod=kerberos].</li>
        </ul>
    </htmlDocumentation>
    <required>1</required>
</formElement>
<formElement>
    <type>entry</type>
    <label>JNDI name</label>
    <property>ecp_weblogic_jndiName</property>
    <documentation>JNDI path to where this datasource is bound (for example, jdbc/MYDS). By default, the JNDI name is the name of the datasource. Applications that look up the JNDI path will get a javax.sql.Datasource instance that corresponds to this datasource.</documentation>
    <required>1</required>
</formElement>
<formElement>
    <type>credential</type>
    <label>Datasource credentials</label>
    <property>ecp_weblogic_dataSourceCredentials</property>
    <documentation>Username and password for the database.</documentation>
    <required>1</required>
</formElement>
<formElement>
    <type>entry</type>
    <label>Database name</label>
    <property>ecp_weblogic_databaseName</property>
    <htmlDocumentation>Name of the database/default schema for the database connection. Note that this may be relevant to some databases (for example, MySQL), but may not be necessary for all databases. This parameter is not required if it is already defined in the <b>JDBC URL</b> parameter.</htmlDocumentation>
    <required>0</required>
</formElement>
<formElement>
    <type>textarea</type>
    <label>JDBC driver properties</label>
    <property>ecp_weblogic_driverProperties</property>
    <htmlDocumentation>Newline-separated list of property=value pairs passed to the JDBC driver that are used to create physical database connections (for example, server=dbserver1).<br/>
NOTE: For security reasons, when the WebLogic server is running in production mode, you cannot specify database passwords in this properties list because it will cause datasource deployments to fail. To override this security check, use the commandline argument "weblogic.management.allowClearTextPasswords" when starting the server.
    </htmlDocumentation>
    <required>0</required>
</formElement>
<formElement>
    <type>textarea</type>
    <label>Target server list</label>
    <property>ecp_weblogic_targets</property>
    <documentation>Comma-separated list of servers the datasource should target. If targets are not specified, the datasource is created, but not deployed.</documentation>
    <required>0</required>
</formElement>
<formElement>
    <type>select</type>
    <label>Update action</label>
    <property>ecp_weblogic_updateAction</property>
    <htmlDocumentation>The update action to take when a connection factory with the same name already exists:
        <br/>
        <ul>
            <li><b>Do nothing (default):</b> No action is taken upon an update (for example, it will be a NO-OP).</li>
            <li><b>Remove and create:</b> The existing connection factory is removed, and it is recreated based on the new parameters passed.</li>
            <li><b>Selective update:</b> The existing connection factory is updated only for parameters that are designed to be updated out-of-the-box.</li>
        </ul>
    </htmlDocumentation>
    <required>0</required>
    <value>do_nothing</value>
    <option>
        <name>Do Nothing</name>
        <value>do_nothing</value>
    </option>
    <option>
        <name>Remove and Create</name>
        <value>remove_and_create</value>
    </option>
    <option>
        <name>Selective Update</name>
        <value>selective_update</value>
    </option>
</formElement>
<formElement>
    <type>textarea</type>
    <label>Additional options</label>
    <property>ecp_weblogic_additionalOptions</property>
    <documentation>If selected, specify optional parameters (for example, the initial pool size, minimum pool size, maximum pool size, and validation SQL).</documentation>
    <required>0</required>
</formElement>
</editor>

